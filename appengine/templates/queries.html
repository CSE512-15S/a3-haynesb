{% extends "base.html" %}

{% block queries_active %} class="active"{% endblock %}

{% block content %}
	<div class="panel panel-primary">
		<div class="panel-heading">
			<h3 class="panel-title">Myria Query Log</h3>
		</div>
		<div class="panel-body">
			<table class="table table-condensed">
				<thead>
					<tr>
						<th>#</th>
						<th>Logical plan</th>
						<th>Status</th>
						<th>Time elapsed</th>
						<th>Finished</th>
					</tr>
				</thead>
				{% for q in queries %}
				<tr class="{{q.bootstrap_status}}">
					<td class="query-url"><a href="{{q.url}}" target="_blank">{{q.query_id}}</a></td>
					<td class="query-raw">{{q.raw_query}}</td>
					<td class="query-status">{{q.status}}</td>
					<td class="query-elapsed">{{q.elapsed_str}}</td>
					<td class="query-finish">{{q.finish_time}}</td>
				</tr>
				{% endfor %}
			</table>
		</div>
	</div>
{% endblock %}

{% block footer %}
<script type="text/javascript" src="js/queries.js"></script>
{% endblock %}