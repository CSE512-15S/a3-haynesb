{% extends "base.html" %}

{% block queries_active %} class="active"{% endblock %}

{% block content %}
	<div class="panel panel-primary">
		<div class="panel-heading">
			<h3 class="panel-title">Myria Query Log
				<span class="pull-right panel-title">
					<a href="{{ prevUrl|default('#', True) }}"><span class="glyphicon glyphicon-circle-arrow-left"/></a>
					<a href="{{ nextUrl|default('#', True) }}"><span class="glyphicon glyphicon-circle-arrow-right"/></a>&nbsp;
				</span>
			</h3>
		</div>
		<div class="panel-body">
			<table class="table table-condensed">
				<thead>
					<tr>
						<th>#</th>
						<th>Logical plan</th>
						<th>Status</th>
						<th>Time elapsed</th>
						<th>Finished</th>
					</tr>
				</thead>
				{% for q in queries %}
				<tr class="{{q.bootstrapStatus}} query-row" data-status="{{q.status}}" data-id="{{q.queryId}}">
					<td class="query-url"><a href="{{q.url}}" target="_blank">{{q.queryId}}</a></td>
					<td class="query-raw">{{q.rawQuery}}</td>
					<td class="query-status">{{q.status}}</td>
					<td class="query-elapsed">{{q.elapsedStr}}</td>
					<td class="query-finish">{{q.finishTime}}</td>
				</tr>
				{% endfor %}
			</table>
		</div>
	</div>
{% endblock %}

{% block footer %}
<script type="text/javascript" src="js/queries.js"></script>
{% endblock %}